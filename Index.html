<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>Screener 4.1</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 10px;
      background: url('https://source.unsplash.com/1600x900/?american,flag') no-repeat center center fixed;
      background-size: cover;
      color: #e6e6e6;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.3);
      z-index: -1;
    }
    #nav-dropdown {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000;
    }
    #nav-dropdown select {
      padding: 6px;
      font-size: 0.9rem;
      border-radius: 4px;
      border: none;
      cursor: pointer;
    }
    #main-title {
      text-align: center;
      font-size: 2.2rem;
      font-weight: bold;
      margin: 20px 0 10px;
    }
    .container {
      width: 100%;
      max-width: 100%;
      margin: 0 auto;
      background-color: rgba(26, 26, 26, 0.9);
      padding: 10px;
      border-radius: 8px;
      border: 10px solid;
      border-image: url('https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/32px-Flag_of_the_United_States.svg.png') 10 round;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-bottom: 10px;
    }
    .controls input,
    .controls select,
    .controls button {
      padding: 8px;
      font-size: 0.9rem;
      border: none;
      border-radius: 4px;
    }
    .controls button {
      background-color: #007700;
      color: #fff;
      cursor: pointer;
    }
    .controls button:hover {
      background-color: #005500;
    }
        details {
      margin-bottom: 10px;
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 4px;
      padding: 4px;
      background-color: rgba(26,26,26,0.9);
      overflow-x: auto;
      cursor: pointer;
    }
    summary {
      font-size: 1rem;
      font-weight: bold;
      color: #ffffff;
      padding: 4px;
      cursor: pointer;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 5px;
      background-color: rgba(26,26,26,0.9);
    }
    th, td {
      padding: 6px;
      text-align: center;
      border: 1px solid rgba(0,0,0,0.4);
      font-size: 0.8rem;
    }
    th {
      background-color: rgba(0,0,0,0.7);
      color: #ffffff;
    }
    tr:nth-child(even) {
      background-color: rgba(0,0,0,0.5);
    }
    tr:hover {
      background-color: rgba(0,0,0,0.7);
    }
    canvas {
      width: 100%;
      margin-top: 10px;
      background-color: rgba(255, 255, 255, 0.95);
      border-radius: 4px;
    }
    #price-chart {
      height: 300px;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.85);
    }
    .modal-content {
      position: relative;
      background-color: #1a1a1a;
      margin: 10% auto;
      padding: 10px;
      border: 1px solid #444;
      width: 90%;
      max-width: 600px;
      border-radius: 8px;
      color: #e6e6e6;
    }
    .close {
      position: absolute;
      top: 8px;
      right: 8px;
      color: #aaa;
      font-size: 24px;
      font-weight: bold;
      cursor: pointer;
    }
    #indicator-chart-container {
      height: 200px;
      margin-top: 10px;
    }
    .log {
      background-color: rgba(0, 0, 0, 0.8);
      color: #ccc;
      padding: 10px;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      max-height: 300px;
      overflow-y: auto;
      border: 1px solid rgba(255,255,255,0.2);
      margin-top: 10px;
    }
    #legal {
      margin-top: 20px;
      padding: 10px;
      background-color: rgba(26,26,26,0.9);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 4px;
      font-size: 0.8rem;
      color: #aaa;
      text-align: center;
    }
    .page-section {
      display: none;
      margin: 10px auto;
      background-color: rgba(26,26,26,0.9);
      padding: 10px;
      border-radius: 8px;
      border: 10px solid;
      border-image: url('https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/32px-Flag_of_the_United_States.svg.png') 10 round;
      color: #e6e6e6;
    }
    @media (max-width: 600px) {
      #main-title { font-size: 1.8rem; margin: 15px 0; }
      .controls input, .controls select, .controls button { padding: 6px; font-size: 0.8rem; }
      summary { font-size: 0.9rem; }
      th, td { padding: 4px; font-size: 0.7rem; }
      #price-chart { height: 250px; }
      #indicator-chart-container { height: 150px; }
    }
  </style>
</head>
<body>
    <!-- Navigation Dropdown -->
  <div id="nav-dropdown">
    <select id="page-selector" onchange="changePage()">
      <option value="main-section">Main Page</option>
      <option value="howto-section">How To Use</option>
      <option value="trackrecord-section">Paper Trader Track Record</option>
      <option value="paperdata-section">Paper Data (Password)</option>
    </select>
  </div>

  <!-- Title -->
  <div id="main-title">Screener 4.1</div>

  <!-- Main Section -->
  <div id="main-section">
    <div class="container">
      <div class="controls">
        <input type="text" id="search-input" placeholder="Search by coin name or symbol" oninput="filterTable()">
        <select id="currency-select" onchange="fetchData()">
          <option value="usd" selected>USD</option>
          <option value="eur">EUR</option>
          <option value="gbp">GBP</option>
        </select>
        <button onclick="fetchData()">Refresh Data</button>
      </div>
      <div id="dropdown-container"></div>
      <canvas id="price-chart"></canvas>
      <details id="tos">
        <summary style="font-size:1rem; font-weight:bold; color:#fff;">Terms of Service & Liability Disclaimer</summary>
        <p style="font-size:0.75rem; color:#aaa; margin-top:5px;">
          This tool is provided “as is” without warranty of any kind. The creator disclaims all liability for any damages arising from its use. No financial advice is provided. Use at your own risk and perform your own due diligence.
        </p>
      </details>
    </div>
  </div>

  <!-- Track Record Section -->
  <div id="trackrecord-section" class="page-section">
    <h2>Paper Trader Track Record</h2>
    <p>Simulated $100 trades based on current signals:</p>

    <h3>Trade Tracker Table</h3>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Coin</th>
          <th>Signal</th>
          <th>Buy Price</th>
          <th>Sell Price</th>
          <th>Simulated Amount</th>
          <th>Profit/Loss ($)</th>
          <th>Hold Time</th>
        </tr>
      </thead>
      <tbody id="trade-tracker-body"></tbody>
    </table>

    <h3>Simulated Trade Log</h3>
    <div id="tracker-log" class="log"></div>

    <h3>Total Cumulative Profit/Loss</h3>
    <p id="cumulative-profit" style="font-size: 1.2rem; font-weight: bold; color: #00ff88;"></p>

    <h3>Live Profit Portfolio</h3>
    <canvas id="profit-graph" height="200"></canvas>
  </div>
    <!-- How To Use Section -->
  <div id="howto-section" class="page-section">
    <h2>How To Use</h2>
    <ul>
      <li>Use the dropdown to navigate between pages.</li>
      <li>Use the filters to search and refresh crypto data.</li>
      <li>Click signals to view detailed strategies and charts.</li>
    </ul>
  </div>

  <!-- Paper Data Section -->
  <div id="paperdata-section" class="page-section">
    <h2>Paper Data (Password Protected)</h2>
    <div id="paperdata-login">
      <p>Enter password:</p>
      <input type="password" id="paperdata-password">
      <button onclick="checkPaperDataPassword()">Submit</button>
    </div>
    <div id="paperdata-content" style="display:none;">
      <h3>Paper Data Logs</h3>
      <div id="paperdata-log" class="log"></div>
    </div>
  </div>

  <!-- Signal Modal -->
  <div id="signal-modal" class="modal">
    <div class="modal-content">
      <span class="close" id="modal-close">&times;</span>
      <div id="modal-body"></div>
      <h3 style="text-align:center; color:#fff;">Chart</h3>
      <div id="indicator-chart-container">
        <canvas id="indicator-chart"></canvas>
      </div>
    </div>
  </div>

  <!-- Legal Disclaimer -->
  <div id="legal">
    By using this tool, you agree that it is provided "as is" without any guarantees. Do your own research. The creator assumes no liability.
  </div>

  <!-- JavaScript -->
  <script>
    let cryptoData = [], filteredData = [], priceChart, indicatorChart;
    const defaultHoldDays = 1;

    // Simulated Trade Tracker
    let trackerData = [];
    let profitChart;

    function simulateTradesFromDropdown() {
      const sampleCoins = [
        { symbol: "BTC", current_price: 63200, profitPotential: 5.06, tradingSignal: "Buy" },
        { symbol: "ETH", current_price: 3100, profitPotential: 3.87, tradingSignal: "Moderate Buy" },
        { symbol: "XRP", current_price: 0.52, profitPotential: 7.89, tradingSignal: "Strong Buy" }
      ];
      const simulatedTrades = [];

      sampleCoins.forEach((coin) => {
        const profitPercent = coin.profitPotential || 0;
        const buyPrice = coin.current_price;
        const sellPrice = buyPrice + (buyPrice * (profitPercent / 100));
        const signal = coin.tradingSignal;
        const holdTime = getHoldTime(signal);

        simulatedTrades.push({
          date: new Date().toISOString().split('T')[0],
          coin: coin.symbol.toUpperCase(),
          signal: signal,
          buy: parseFloat(buyPrice.toFixed(4)),
          sell: parseFloat(sellPrice.toFixed(4)),
          hold: holdTime
        });
      });

      trackerData = simulatedTrades;
      updateTracker();
    }

    function getHoldTime(signal) {
      if (signal.includes("Ultra")) return "5 Days";
      if (signal.includes("Strong")) return "4 Days";
      if (signal.includes("Buy")) return "3 Days";
      if (signal.includes("Moderate")) return "2 Days";
      if (signal.includes("Weak")) return "1 Day";
      return "N/A";
    }
        function updateTracker() {
      const tbody = document.getElementById("trade-tracker-body");
      const log = document.getElementById("tracker-log");
      tbody.innerHTML = "";
      log.innerHTML = "";

      const labels = [], profitDollars = [];
      let totalProfit = 0;
      const investment = 100;

      trackerData.forEach((t) => {
        const profitPercent = ((t.sell - t.buy) / t.buy) * 100;
        const profitDollarsVal = ((profitPercent / 100) * investment).toFixed(2);
        const profitDisplay = (profitDollarsVal >= 0 ? "+" : "") + "$" + profitDollarsVal;

        totalProfit += parseFloat(profitDollarsVal);
        labels.push(t.coin);
        profitDollars.push(parseFloat(profitDollarsVal));

        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${t.date}</td>
          <td>${t.coin}</td>
          <td>${t.signal}</td>
          <td>$${t.buy.toFixed(4)}</td>
          <td>$${t.sell.toFixed(4)}</td>
          <td>$${investment}</td>
          <td>${profitDisplay}</td>
          <td>${t.hold}</td>
        `;
        tbody.appendChild(row);
        log.innerHTML += `<p>[${t.date}] ${t.signal} - ${t.coin} | $${t.buy} → $${t.sell} | Profit: ${profitDisplay}</p>`;
      });

      const cumulativeEl = document.getElementById("cumulative-profit");
      const totalFormatted = (totalProfit >= 0 ? "+" : "") + "$" + totalProfit.toFixed(2);
      cumulativeEl.textContent = totalFormatted;
      cumulativeEl.style.color = totalProfit >= 0 ? "#00ff88" : "#ff5555";

      if (profitChart) profitChart.destroy();
      const ctx = document.getElementById("profit-graph").getContext("2d");
      profitChart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [{
            label: "Simulated Profit/Loss ($)",
            data: profitDollars,
            backgroundColor: profitDollars.map(p => p >= 0 ? "rgba(0, 200, 100, 0.7)" : "rgba(200, 0, 0, 0.7)")
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
              ticks: { color: "#fff" },
              grid: { color: "rgba(255,255,255,0.1)" }
            },
            x: {
              ticks: { color: "#fff" },
              grid: { color: "rgba(255,255,255,0.1)" }
            }
          },
          plugins: {
            legend: { labels: { color: "#fff" } }
          }
        }
      });
    }

    function changePage() {
      const sections = ["main-section", "howto-section", "trackrecord-section", "paperdata-section"];
      sections.forEach(id => document.getElementById(id).style.display = "none");
      const page = document.getElementById("page-selector").value;
      document.getElementById(page).style.display = "block";
    }

    function checkPaperDataPassword() {
      const password = document.getElementById("paperdata-password").value;
      if (password === "122216") {
        document.getElementById("paperdata-login").style.display = "none";
        document.getElementById("paperdata-content").style.display = "block";
      } else {
        alert("Incorrect password. Please try again.");
      }
    }

    window.onload = function() {
      changePage();
      simulateTradesFromDropdown();
      setInterval(updateTracker, 15000);
    };

    document.getElementById('modal-close').addEventListener('click', () => {
      document.getElementById('signal-modal').style.display = "none";
    });

    window.onclick = function(event) {
      const modal = document.getElementById('signal-modal');
      if (event.target == modal) modal.style.display = "none";
    };
  </script>
</body>
</html>
</body>
</html>
